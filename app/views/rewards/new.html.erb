<% content_for(:title, 'ご褒美・目標新規登録') %>

<div class="d-flex flex-column justify-content-center align-items-center fw-bold m-5 gap-3">
  <%= bootstrap_form_with(model: @reward, label_errors: true) do |form| %>
    <section>
      <h2 class="d-flex justify-content-center m-3">ご褒美</h2>
      <div class="d-flex flex-column border border-secondary-subtle rounded shadow-sm m-3 p-3" style="max-width: 45rem;">
        <div class="d-flex">
          <div class="d-flex align-items-center ms-3">
            <%= form.date_field :completion_date, class: 'form-control text-center fs-3', help: 'ご褒美を『いつ』' %>
            <div class="ms-3 fs-3">に</div>
          </div>
          <div class="d-flex flex-grow-1 align-items-center">
            <div class="flex-grow-1 mx-3">
              <%= form.text_area :location,
                  class: 'form-control text-center fs-3',
                  placeholder: '叙々苑',
                  help: 'ご褒美を『どこ』'
              %>
            </div>
            <div class="me-3 fs-3">で</div>
          </div>
        </div>
        <div class="d-flex align-items-center">
          <div class="flex-grow-1 mx-3">
            <%= form.text_area :description,
                class: 'form-control text-center fs-3',
                placeholder: '友人を誘って皆で食事',
                help: '『欲しいご褒美』や『共有したいご褒美』を登録'
            %>
          </div>
          <div class="me-3 fs-3">する</div>
        </div>
      </div>
    </section>
    <section>
      <h2 class="d-flex justify-content-center m-3">目標</h2>
      <div class="d-flex flex-column border border-secondary-subtle rounded shadow-sm gap-3 m-3 p-3" style="min-height:30rem; max-width: 45rem;">
        <div class="d-flex flex-column flex-grow-1">
          <%= form.fields_for :goals do |goal_form| %>
            <div class="flex-grow-1 mx-3">
              <%= goal_form.text_area :description,
                    class: 'flex-grow-1 form-control p-3 fs-3',
                    style: 'min-height: 25rem;',
                    placeholder: '毎日10分ランニングする！',
                    help: '自分にご褒美をあげたい日までに達成したい目標を書いてください。どんな些細なことでも構いません！'
              %>
            </div>
            <div class="form-group col-md-4 mx-3">
              <%= goal_form.number_field :progress, class: 'text-center fs-4' %>
            </div>
          <% end %>
        </div>
      </div>
    </section>
    <div class="d-flex justify-content-center m-3">
      <%= form.submit "ご褒美と目標を登録する", class: "btn btn-outline-primary btn-lg" %>
    </div>
  <% end %>
</div>
