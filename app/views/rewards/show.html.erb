<% content_for(:title, 'ご褒美・目標詳細') %>
<div class="d-flex flex-column justify-content-center align-items-center" style="height: 80vh;">
  <div class="border rounded m-3 w-75 h-25">
    <div id='reward'>
      <%= render @reward %>
    </div>
    <% if invited?(@reward) %>
      <%= button_tag '招待用URLをコピー', 
            data: { controller: "clipboard",
                    action: "click->clipboard#copy",
                    clipboard_content_value: reward_url(@reward.id, invitation_token: @reward.invitation_token) },
            class: 'btn btn-outline-primary' %>
      <p>最大4人まで招待できます。</p>
    <% end %>
  </div>
  <div class="d-flex border rounded m-3 w-75 h-75">
    <% @goals.each do |goal| %>
      <div class="d-flex-column">
        <div id="<%= dom_id(goal) %>">
          <%= render 'goals/goal', goal: goal %>
        </div>
        <div class="d-flex">
          <div id="likings_goal_<%= goal.id %>">
            <%= render 'likings/liking', goal: goal %>
          </div>
          <div id="cheerings_goal_<%= goal.id %>">
            <%= render 'cheerings/cheering', goal: goal %>
          </div>
        </div>
      </div>
    <% end %>
  </div>
</div>
